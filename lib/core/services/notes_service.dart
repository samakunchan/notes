import 'package:notes/core/models/api_response_model.dart';import 'package:notes/core/models/note_model.dart';import 'package:http/http.dart' as http;import 'dart:convert';import 'dart:developer';class NoteService {  final url = Uri.parse('http://localhost:3000/notes');  // static const headers = {  //   'apiKey': 'frefref '  // };  Future<ApiResponseModel<NoteModel>> getNotesList() {    return http.get(url)        .then((value) {          if(value.statusCode == 200) {            final jsonData = json.decode(value.body);            final List<NoteModel> notes = [].cast<NoteModel>().toList();            for(var item in jsonData) {              final NoteModel note = NoteModel(                  id: item['id'],                  title: item['title'],                  createdAt: DateTime.parse(item['createdAt']),                  updatedAt: DateTime.parse(item['updatedAt']) // Au cas ou c'est null: item['updatedAt'] ?? null              );              notes.add(note);            }            log('data $notes');            return ApiResponseModel<NoteModel>(data: notes);          }          return ApiResponseModel<NoteModel>(error: true, errorMessage: 'Probleme');        })        .catchError((_) => ApiResponseModel<NoteModel>(error: true, errorMessage: 'Probleme'));  }  // List<NoteModel> getNotesList() {  //   return [  //     NoteModel(id: 1, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 2, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 3, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 4, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 5, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 6, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 7, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 8, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 9, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 10, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 11, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 12, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 13, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 14, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 15, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //     NoteModel(id: 16, title: 'Note', createdAt: DateTime.now(), updatedAt: DateTime.now()),  //   ];  // }}